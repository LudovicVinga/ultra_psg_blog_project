{% extends 'themes/base_visitor.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block description %}Bienvenue sur Ultra PSG ! Suivez l'actualité du club de la capitale comme ci vous y étiez !{% endblock %}

{% block keywords %}PSG, Paris Saint-Germain, Paris SG, football, Ligue 1, PSG news, PSG matches, PSG joueurs, Parc des Princes, Champions League, PSG transferts, PSG fans, PSG resultats{% endblock %}

{% block main %}

    {# hero-section #}
    <header>
        {% include 'components/welcomeTitle.twig' with {"h1" : "ULTRA PSG"} %}
    </header>

    {# last-posts-section #}
    <section class="text-center py-5 bg-white">
        <h1 class="text-danger display-5 fw-bold fst-italic">LES DERNIERES NEWS</h1>
        <h4 class="text-primary">Ne ratez rien de l'actualité du Paris saint-Germain !</h4>

        <div class="container">
            <div class="row">
                {% for post in posts %}
                    <div class="col-lg-4">
                        <div class="card my-5 shadow">
                            <div class="card-header bg-primary text-white text-uppercase">
                                <h4><strong>{{post.title|u.truncate('30', '...')}}</strong></h4>
                            </div>
                            <div class="card-body">
                                {% if post.image %}
                                    <img src="{{vich_uploader_asset(post, 'imageFile') | imagine_filter('visitor_post_thumb') }}" class="img-fluid rounded-start" alt="{{post.title}}">
                                {% else %}
                                    <img src="/images/static/visitor/news/default_post_img.png" class="img-fluid rounded-start" alt="{{post.title}}">
                                {% endif %}
                                <p class="mt-3">
                                    <span class="text-danger text-decoration-underline">Catégorie</span> : {{post.category.name}}
                                </p>
                                {% if post.tags is not empty %}
                                    <p>
                                        <span class="text-danger text-decoration-underline">Tags</span> : 
                                        {% for tag in post.tags %}
                                            <span class="m-2 badge text-bg-dark">{{tag.name}}</span>
                                        {% endfor %}
                                    </p>
                                {% endif %}

                                <p class="text-center">{{post.description}}</p>

                                <p>Publié {{post.publishedAt|ago}}</p>
                                
                                <p>
                                    <a href="{{path('app_visitor_news_post_show', {'id':post.id, 'slug':post.slug})}}" class="btn btn-primary">Consulter l'article</a>
                                </p>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}